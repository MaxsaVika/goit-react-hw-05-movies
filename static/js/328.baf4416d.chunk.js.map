{"version":3,"file":"static/js/328.baf4416d.chunk.js","mappings":"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","sources":["components/Api-service/Api.js","webpack://react-homework-template/./src/components/Movies/MoviesList/MoviesList.module.scss?ac02","components/Movies/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/shared/Loader/Loader.module.scss?2197","components/shared/Loader/Loader.jsx","webpack://react-homework-template/./src/components/MoviesSearch/MoviesSearch.module.scss?ee3b","components/MoviesSearch/MoviesSearchForm.jsx","components/MoviesSearch/MoviesSearch.jsx","pages/MoviesPage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '5b00cd10e05c354cfbdbc23aa24fc7b8';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport const searchTrendDayMovie = async () => {\n  const response = await axios.get(`trending/all/day?api_key=${API_KEY}`);\n  return await response.data;\n};\n\nexport const searchMovieById = async id => {\n  const response = await axios.get(\n    `movie/${id}?api_key=${API_KEY}&language=en-US`\n  );\n  return await response.data;\n};\n\nexport const searchMovieCast = async id => {\n  const response = await axios.get(\n    `movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return await response.data;\n};\n\nexport const searchMovieReviews = async id => {\n  const response = await axios.get(\n    `movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n  return await response.data;\n};\n\nexport const searchMovies = async query => {\n  const response = await axios.get(\n    `search/movie?api_key=${API_KEY}&query=${query}&language=en-US&page=1&include_adult=false`\n  );\n  return await response.data;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"menu\":\"MoviesList_menu__Iu-3H\",\"movie_list_item\":\"MoviesList_movie_list_item__iH55V\",\"link\":\"MoviesList_link__5ieTT\"};","import React from 'react'\nimport { Link, useLocation } from 'react-router-dom';\nimport css from './MoviesList.module.scss'\n\nexport default function MoviesList({items}) {\n\n  const location = useLocation()\n\n    const movies = items.map(({ id, title, name, release_date }) => {\n      const releaseDate = release_date ? release_date?.split('-')[0] : ' ';\n        return (\n          <li key={id} className={css.movie_list_item}>\n            <Link state = {{from: location}} to={`/movies/${id}`} className={css.link}>\n              {title || name} ({releaseDate})\n            </Link>\n          </li>\n        );\n      });\n      return <ul className={css.menu}>{movies}</ul>;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"Loader_loader__hDDB3\",\"rotation\":\"Loader_rotation__5p-vK\"};","import React from \"react\";\nimport css from './Loader.module.scss'\n\nexport function Loader () {\n    return (\n        <div className={css.loader}></div>\n    )\n}","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MoviesSearch_container__y4zwQ\",\"SearchForm\":\"MoviesSearch_SearchForm__ep00G\",\"SearchForm_button\":\"MoviesSearch_SearchForm_button__1xafp\",\"SearchForm_button_label\":\"MoviesSearch_SearchForm_button_label__JYNzR\",\"SearchForm_input\":\"MoviesSearch_SearchForm_input__JHXJJ\",\"notFound\":\"MoviesSearch_notFound__f+fTC\"};","import { useState } from 'react'\nimport css from './MoviesSearch.module.scss'\n\nexport default function MoviesSearchForm({onSubmit}) {\n    const [search, setSearch] = useState('')\n\n    const handleChange = ({target: {value}}) => {\n        setSearch(value)\n    }\n\n    const handleSubmit = (e)=> {\n        e.preventDefault()\n\n        if(search.trim() === \"\") {\n           return  alert('Enter movie for search.')\n        }\n\n        onSubmit(search)\n        setSearch('')\n    }\n\n  return (\n    <form className={css.SearchForm} onSubmit = {handleSubmit}>\n            <input \n                type=\"text\" \n                value={search}\n                name = \"search\"\n                placeholder = \"Search images and photos\" \n                className = {css.SearchForm_input}\n                onChange = {handleChange}\n            />\n            <button type=\"submit\" className = {css.SearchForm_button} > \n                Search\n            </button>       \n    </form>\n  )\n}\n","import { searchMovies } from 'components/Api-service/Api'\nimport MoviesList from 'components/Movies/MoviesList/MoviesList'\nimport { Loader } from 'components/shared/Loader/Loader'\nimport { useEffect, useState } from 'react'\nimport { useSearchParams } from 'react-router-dom'\nimport MoviesSearchForm from './MoviesSearchForm'\nimport css from './MoviesSearch.module.scss'\n\nexport default function MoviesSearch() {\n    const [movies, setMovies] = useState([])\n    const [loading, setLoading] = useState(false)\n    const [error, setError] = useState(null)\n    const [totalResults, setTotalResults] = useState(true)\n\n    const [searchParams, setSearchParams] = useSearchParams()\n    const query = searchParams.get(\"query\")\n\n    const onSearch = (search) => {\n      setSearchParams({query: search})\n      setMovies ([])\n  }\n\n      useEffect(() =>{\n\n        const fetchMovies = async ()=> {          \n            try{\n              setLoading(true)\n                const data = await searchMovies(query);\n                setMovies((prevMovies) => [...prevMovies, ...data.results])\n                setTotalResults(!data.total_results ? false : true)\n\n            } catch (error) {\n                setError(error)\n\n            } finally {\n              setLoading(false)\n            }          \n        }\n\n        if (query) fetchMovies()\n\n    }, [query])\n\n  return (\n    <div className={css.container}>\n        <MoviesSearchForm onSubmit = {onSearch}/>  \n        {totalResults ? <MoviesList items={movies} /> : <p className={css.notFound}>Movies not found</p>} \n        {loading && <Loader />}\n        {error && <p>Movies not found</p>}\n    </div> \n  )\n}\n","import MoviesSearch from \"components/MoviesSearch/MoviesSearch\";\n\nexport default function MoviesPage() {\n  return (\n    <MoviesSearch />\n  )\n}\n"],"names":["API_KEY","axios","searchTrendDayMovie","response","data","searchMovieById","id","searchMovieCast","searchMovieReviews","searchMovies","query","MoviesList","items","location","useLocation","movies","map","title","name","release_date","releaseDate","split","className","css","state","from","to","Loader","MoviesSearchForm","onSubmit","useState","search","setSearch","e","preventDefault","trim","alert","type","value","placeholder","onChange","target","MoviesSearch","setMovies","loading","setLoading","error","setError","totalResults","setTotalResults","useSearchParams","searchParams","setSearchParams","get","useEffect","fetchMovies","prevMovies","results","total_results","MoviesPage"],"sourceRoot":""}